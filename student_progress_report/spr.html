<!DOCTYPE HTML>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/Chart.bundle.js"></script>
    <script src="js/utils.js"></script>
    <!--script src="data_script.js"></script-->
    
    <style>
    canvas {
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
    }
    </style>
    
    <script type="text/javascript" src="js/mustache.js"></script>
    
    
</head> 
<body>
<div id="test1">

</div>
<div id="target">
<center><img src="loader1.gif" class='img-responsive loading_img' id='loading_img' style='widht:500px;height:500px;'/></center><br>
<center><p id="p1" class='p1' style='font-size:20px;font-weight: bold;color:green; text-align:center;'>Loading...</p><p id="test" style='font-size:20px;font-weight: bold;color:red; text-align:center;'></p></center><br/>
</div>

<script id="template" type="x-tmpl-mustache">   


{{#papers}}
    {{#spr}}
        {{#users}}
            <div class='container'>
                <div class='row'>
                    <div class='col-md-12'>
                        <img src='Rao-IIT-Full-New-website-Logo.png' class='img-responsive'/>
                    </div>
                </div>
                <hr/>
                <div class='row'>
                    <!-- Header Table -->
                    <div class='col-md-12'>
                        <table class='table table-bordered table-responsive table-responsive table-condensed' border=1  cellspacing=0 style='empty-cells: hide;'>
                            <tr style='background-color: #3f51b5 ; color:#fff; height:20px !important;' align="center">
                                <td colspan='4' ><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'>{{ name }}</p></td>
                            </tr>
                            <tr>
                                <td><b>Name</b></td>
                                <td>{{ stufname }} {{ stulname }}</td>
                                <td><b>Roll No</b></td>
                                <td>{{ rollnumber }}</td>
                            </tr>
                            <tr>
                                <td><b>Branch</td>
                                <td>{{ coursename }}</td>
                                <td><b>Target Course</b></td>
                                <td>{{ course }} Target-{{ targetyear }}</td>
                            </tr>
                        {{/users}}
                        
                            <tr>
                                <td><b>Total Marks</b></td>
                                <td>{{#total}} {{ max_obt }} {{/total}}</td>
                                <td><b>Rank</b></td>
                                <td>{{#total}}{{ rank }}{{/total}}</td>
                            </tr>
                
                        </table>
                    </div>
                </div>
                <hr/>
                <div class='row'>
                    <div class='col-md-12'>
                        <div class='col-md-12' style='background-color: #3f51b5 ;font-weight: bold;color:white;'>
                            <p style='font-size:20px;font-weight: bold;color:white; text-align:center;'>Students Analysis Subjectwise Comparision</p>
                        </div>

                        
                    </div>
                </div>
<!-- Start of Compare chart -->
                <div class='container' id='container'>
                    <div class='row'>
                        <div class='col-md-12' id='chart_compare'>

                        </div>

                    </div>
                </div>
<!-- End of Compare chart -->

<!--For Total Performance-->
                <div class='row'>
                    <div class='col-md-12'>
                        <div class='col-md-12' style='background-color: #3f51b5 ;font-weight: bold;color:white;'>
                            <p style='font-size:20px;font-weight: bold;color:white; text-align:center;'>Students Analysis in Attempting Paper</p>
                        </div>
                        <div class='col-md-5' style='margin-top:5px;'>
                            <table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 >
                                <tr class='headerStyle' style='font-weight: bold;color:white;' valign="middle">
                                    <td colspan="2"><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>Students Performance in Paper</center></p></td>
                                </tr>
                                <tr>
                                    <th>Total No. Of Questions</th>
                                    <td>{{ total_quesn  }} {{#paper}}ques{{/paper}}</td>
                                </tr>
                                <tr>
                                    <th>Correct</th>
                                    <td> {{ totalcorr }}  </td>
                                </tr>
                                <tr>
                                    <th>Wrong</th>
                                    <td>{{ totalwrong }}</td>
                                </tr>
                                <tr>
                                    <th>Unattempted</th>
                                    <td>{{ totalunattempt }}</td>
                                </tr>
                            </table>
                        </div>

                        <div class='col-md-6'>                    

                            <!-- Chart-1 -->
                            <!-- Students Analysis in Attempting Papers Chart-1 -->
                            <div id="container" class="chart_div" align="center">
                                <canvas id="canvas1" ></canvas>
                            </div>
                            <script>
                                var color = Chart.helpers.color;
                                var barChartData1 = {
                                labels: ["Student's Performance in Paper"],
                                datasets: [{
                                    label: 'Total Questions',
                                    backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.grey,
                                    borderWidth: 3,
                                    data: [
                                        
                                        {{ total_quesn  }}

                                    ]
                                }, {
                                    label: 'Correct',
                                    backgroundColor: color(window.chartColors.blue).alpha(5.5).rgbString(),
                                    borderColor: window.chartColors.blue,
                                    borderWidth: 3,
                                    data: [
                                        {{ totalcorr }}
                                        
                                    ]
                                },{
                                    label: 'Wrong',
                                    backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.red,
                                    borderWidth: 3,
                                    data: [
                                        {{ totalwrong }}
                                        
                                    ]
                                },{
                                    label: 'Unattempted',
                                    backgroundColor: color(window.chartColors.yellow).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.yellow,
                                    borderWidth: 3,
                                    data: [
                                        {{ totalunattempt }}
                                        
                                    ]
                                }]
                            };

                            // For Performance in Paper 
                            // graph-1
                            var ctx1 = document.getElementById("canvas1").getContext("2d");
                                window.myBar = new Chart(ctx1, {
                                    type: 'bar',
                                    data: barChartData1,
                                    options: {
                                        responsive: true,
                                        legend: {
                                            position: 'top',
                                        },
                                        title: {
                                            display: true,
                                            text: 'Performance in Paper'
                                        },
                                        scales: {
                                            yAxes: [{
                                                ticks: {
                                                    //beginAtZero:true
                                                    min:0
                                                }
                                            }],
                                            xAxes: [{
                                                ticks: {
                                                    //beginAtZero:true
                                                    min:0
                                                }
                                            }]
                                        }
                                    }
                                });
                            <{{!}}/script>
                        </div>
                    </div>
                </div>
                <hr/>
                <div class='row'>
                    <div class='col-md-12'>
                        <div class='col-md-5' style='margin-top:5px'>
                            <table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 style='empty-cells: hide;' >
                                <tr class='headerStyle' style='font-weight: bold;color:white;' >
                                    <td colspan="2" ><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>Students Performance Analysis in Percentage</center></p></td>
                                </tr>
                                <tr>
                                    <th>Correct</th>
                                    <td>{{ totalcorr_percent }}%</td>
                                </tr>
                                <tr>
                                    <th>Wrong</th>
                                    <td>{{ totalwrong_percent }}%</td>
                                </tr>
                                <tr>
                                    <th>Unattempted</th>
                                    <td>{{ totalunattempt_percent }}%</td>
                                </tr>
                                <tr>
                                    <th>Accuracy In Solving</th>
                                    <td>{{ totalcorr_accuracy }}%</td>
                                </tr>
                            </table>
                        </div>

                        <div class='col-md-6'>                    

                            <!-- Chart-2 -->
                            <!-- Students Analysis in Percentage Chart-2 -->
                            <div id="container" class="chart_div" align="center">
                                <canvas id="canvas2" ></canvas>
                            </div>
                            <script>
                                var color = Chart.helpers.color;
                                var barChartData2 = {
                                labels: ["Student's Performance in Paper"],
                                datasets: [{
                                    label: 'Correct %',
                                    backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.grey,
                                    borderWidth: 3,
                                    data: [
                                        {{ totalcorr_percent }}
                                        
                                    ]
                                }, {
                                    label: 'Wrong %',
                                    backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.red,
                                    borderWidth: 3,
                                    data: [
                                        {{ totalwrong_percent }}
                                        
                                    ]
                                },{
                                    label: 'Unattempted %',
                                    backgroundColor: color(window.chartColors.yellow).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.yellow,
                                    borderWidth: 3,
                                    data: [
                                        {{ totalunattempt_percent }}
                                        
                                    ]
                                },{
                                    label: 'Accuracy In Solving',
                                    backgroundColor: color(window.chartColors.blue).alpha(2.5).rgbString(),
                                    borderColor: window.chartColors.blue,
                                    borderWidth: 3,
                                    data: [
                                        {{ totalcorr_accuracy }}
                                        
                                    ]
                                }]

                            };

                            // For Performance Analysis in Percentage 
                            // graph-2
                            var ctx2 = document.getElementById("canvas2").getContext("2d");
                                window.myBar = new Chart(ctx2, {
                                    type: 'bar',
                                    data: barChartData2,
                                    options: {
                                        responsive: true,
                                        legend: {
                                            position: 'top',
                                        },
                                        title: {
                                            display: true,
                                            text: 'Performance Analysis in Percentage'
                                        },
                                        scales: {
                                            yAxes: [{
                                                ticks: {
                                                    //beginAtZero:true
                                                    min:0
                                                }
                                            }],
                                            xAxes: [{
                                                ticks: {
                                                    //beginAtZero:true
                                                    min:0
                                                }
                                            }]
                                        }
                                    }
                                });
                            <{{!}}/script>
                        </div>
                    </div>
                </div>
                <hr/>
                <div class='row'>
                    <div class='col-md-12'>
                        <div class='col-md-5' style='margin-top:5px'>
                            <table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 style='empty-cells: hide;' >
                                <tr class='headerStyle' style='font-weight: bold;color:white;' >
                                    <td colspan="2" ><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>Students Marks Analysis</center></p></td>
                                </tr>
                                <tr>
                                    <th>Total Marks</th>
                                    <td>{{ total_quesntot }}</td>
                                </tr>
                                <tr>
                                    <th>Positive Marks</th>
                                    <td>{{ totalmarks_correct }}</td>
                                </tr>
                                <tr>
                                    <th>Negative Marks</th>
                                    <td>{{ negmarks }}</td>
                                </tr>
                                <tr>
                                    <th>Marks Obtained</th>
                                    <td>{{ marksobt }}</td>
                                </tr>
                            </table>
                        </div>

                        <div class='col-md-6'>                    

                            <!-- Chart-3 -->
                            <!-- Marks Analysis Chart-3 -->
                            <div id="container" class="chart_div" align="center">
                                <canvas id="canvas3" ></canvas>
                            </div>
                            <script>
                                var color = Chart.helpers.color;
                                var barChartData3 = {
                                labels: ["Student's Performance in Paper"],
                                datasets: [{
                                    label: 'Total Marks',
                                    backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.grey,
                                    borderWidth: 3,
                                    data: [
                                        {{ total_quesntot }}
                                        
                                    ]
                                }, {
                                    label: 'Positive Marks',
                                    backgroundColor: color(window.chartColors.blue).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.blue,
                                    borderWidth: 3,
                                    data: [
                                        {{ totalmarks_correct }}
                                        
                                    ]
                                },{
                                    label: 'Negative Marks',
                                    backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.red,
                                    borderWidth: 3,
                                    data: [
                                        {{ negmarks }}
                                        
                                    ]
                                },{
                                    label: 'Marks Obtained',
                                    backgroundColor: color(window.chartColors.orange).alpha(1.5).rgbString(),
                                    borderColor: window.chartColors.orange,
                                    borderWidth: 3,
                                    data: [
                                        {{ marksobt }}
                                        
                                    ]
                                }]
                            };

                            // For Marks Analysis    
                            // graph-3
                            var ctx3 = document.getElementById("canvas3").getContext("2d");
                                window.myBar = new Chart(ctx3, {
                                    type: 'bar',
                                    data: barChartData3,
                                    options: {
                                        responsive: true,
                                        legend: {
                                            position: 'top',
                                        },
                                        title: {
                                            display: true,
                                            text: 'Marks Analysis'
                                        }
                                    }
                                });
                            <{{!}}/script>
                        </div>
                    </div>
                </div>
                <hr/>

<!--End of Total Performance-->

<!--For Subjectwise Performance-->
                <div class='container' id='container'>
                    <div class='row'>
                        <div class='col-md-12' id='chart'>

                        </div>
                    </div>
                </div>
<!--End of Subjectwise Performance-->

<script>
var i,j;
var count=4;

var subjects = ["Physics", "Chemistry", "Mathematics", "Biology", "Zoology", "Mental Ability", "English", "Logical Reasoning", "Social Science", "Computer Science", "General Knowledge", "Science"];
var num_qs = ["{{ nphy }}", "{{ nchem }}", "{{ nmath }}", "{{ nbio }}", "{{ nzoo }}", "{{ nmat }}", "{{ neng }}", "{{ nlr }}", "{{ nsoc }}", "{{ ncs }}", "{{ ngk }}", "{{ nsci }}"];
var total_num_marks = ["{{ ntotphy }}", "{{ ntotchem }}", "{{ ntotmath }}", "{{ ntotbio }}", "{{ ntotzoo }}", "{{ ntotmat }}", "{{ ntoteng }}", "{{ ntotlr }}", "{{ ntotsoc }}", "{{ ntotcs }}", "{{ ntotgk }}", "{{ ntotsci }}"];
var corr = ["{{ pcorr }}", "{{ ccorr }}", "{{ mcorr }}", "{{ bcorr }}", "{{ zcorr }}", "{{ macorr }}", "{{ ecorr }}", "{{ lrcorr }}", "{{ sscorr }}", "{{ cscorr }}", "{{ gkcorr }}", "{{ sccorr }}"];
var wrong = ["{{ pwrong }}", "{{ cwrong }}", "{{ mwrong }}", "{{ bwrong }}", "{{ zwrong }}", "{{ mawrong }}", "{{ ewrong }}", "{{ lrwrong }}", "{{ sswrong }}", "{{ cswrong }}", "{{ gkwrong }}", "{{ scwrong }}"];
var obtain = ["{{ pobt }}", "{{ cobt }}", "{{ mobt }}", "{{ bobt }}", "{{ zobt }}", "{{ maobt }}", "{{ eobt }}", "{{ lrobt }}", "{{ ssobt }}", "{{ csobt }}", "{{ gkobt }}", "{{ scobt }}"];
var unattempt = ["{{ punattempt }}", "{{ cunattempt }}", "{{ munattempt }}", "{{ bunattempt }}", "{{ zunattempt }}", "{{ maunattempt }}", "{{ eunattempt }}", "{{ lrunattempt }}", "{{ ssunattempt }}", "{{ csunattempt }}", "{{ gkunattempt }}", "{{ scunattempt }}"];
var negative = ["{{ pnegmarks }}", "{{ cnegmarks }}", "{{ mnegmarks }}", "{{ bnegmarks }}", "{{ znegmarks }}", "{{ manegmarks }}", "{{ enegmarks }}", "{{ lrnegmarks }}", "{{ ssnegmarks }}", "{{ csnegmarks }}", "{{ gknegmarks }}", "{{ scnegmarks }}"];
var corr_percent = ["{{ pcorr_percent }}", "{{ ccorr_percent }}", "{{ mcorr_percent }}", "{{ bcorr_percent }}", "{{ zcorr_percent }}", "{{ macorr_percent }}", "{{ ecorr_percent }}", "{{ lrcorr_percent }}", "{{ sscorr_percent }}", "{{ cscorr_percent }}", "{{ gkcorr_percent }}", "{{ sccorr_percent }}"];
var wrong_percent = ["{{ pwrong_percent }}", "{{ cwrong_percent }}", "{{ mwrong_percent }}", "{{ bwrong_percent }}", "{{ zwrong_percent }}", "{{ mawrong_percent }}", "{{ wrong_percent }}", "{{ lrwrong_percent }}", "{{ sswrong_percent }}", "{{ cswrong_percent }}", "{{ gkwrong_percent }}", "{{ scwrong_percent }}"];
var unattempt_percent = ["{{ punattempt_percent }}", "{{ cunattempt_percent }}", "{{ munattempt_percent }}", "{{ bunattempt_percent }}", "{{ zunattempt_percent }}", "{{ maunattempt_percent }}", "{{ eunattempt_percent }}", "{{ lrunattempt_percent }}", "{{ ssunattempt_percent }}", "{{ csunattempt_percent }}", "{{ gkunattempt_percent }}", "{{ scunattempt_percent }}"];
var corr_accuracy = ["{{ pcorr_accuracy }}", "{{ ccorr_accuracy }}", "{{ mcorr_accuracy }}", "{{ bcorr_accuracy }}", "{{ zcorr_accuracy }}", "{{ macorr_accuracy }}", "{{ ecorr_accuracy }}", "{{ lrcorr_accuracy }}", "{{ sscorr_accuracy }}", "{{ cscorr_accuracy }}", "{{ gkcorr_accuracy }}", "{{ sccorr_accuracy }}"];
var marks_correct = ["{{ pmarks_correct }}", "{{ cmarks_correct }}", "{{ mmarks_correct }}", "{{ bmarks_correct }}", "{{ zmarks_correct }}", "{{ mamarks_correct }}", "{{ emarks_correct }}", "{{ lrmarks_correct }}", "{{ ssmarks_correct }}", "{{ csmarks_correct }}", "{{ gkmarks_correct }}", "{{ scmarks_correct }}"];

var subjects_aiims = ["Physics", "Chemistry", "", "Biology", "", "", "", "", "", "", "", ""];
var num_qs_aiims = ["60", "60", "0", "80", "0", "0", "0", "0", "0", "0", "0", "0"];
var total_num_marks_aiims = ["60", "60", "0", "80", "0", "0", "0", "0", "0", "0", "0", "0"];
var corr_aiims = ["{{ pcorr }}", "{{ ccorr }}", "0", "{{ bcorr }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var wrong_aiims = ["{{ pwrong }}", "{{ cwrong }}", "0", "{{ bwrong }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var obtain_aiims = ["{{ pobt }}", "{{ cobt }}", "0", "{{ bobt }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var max_obtain_aiims = ["{{ max_spr_pobt }}", "{{ max_spr_cobt }}", "0", "{{ max_spr_bobt }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var unattempt_aiims = ["{{ punattempt }}", "{{ cunattempt }}", "0", "{{ bunattempt }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var negative_aiims = ["{{ pnegmarks }}", "{{ cnegmarks }}", "0", "{{ bnegmarks }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var corr_percent_aiims = ["{{ pcorr_percent }}", "{{ ccorr_percent }}", "0", "{{ bcorr_percent }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var wrong_percent_aiims = ["{{ pwrong_percent }}", "{{ cwrong_percent }}", "0", "{{ bwrong_percent }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var unattempt_percent_aiims = ["{{ punattempt_percent }}", "{{ cunattempt_percent }}", "0", "{{ bunattempt_percent }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var corr_accuracy_aiims = ["{{ pcorr_accuracy }}", "{{ ccorr_accuracy }}", "0", "{{ bcorr_accuracy }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var marks_correct_aiims = ["{{ pmarks_correct }}", "{{ cmarks_correct }}", "0", "{{ bmarks_correct }}", "0", "0", "0", "0", "0", "0", "0", "0"];

var test_name = "{{ name }}";
var test_paper_name = test_name.toLowerCase();
var test_aiims = test_paper_name.includes("aiims");
if(test_aiims==true){
    for(i=0;i<11;i++){                    //for subjectwise chart compare
    if(num_qs_aiims[i]==0){
            count=count+3;
            continue;
        }
        var canvas_id='canvas'+count;
                var a="<div class='row'>"+
                    "<div class='col-md-12'>"+
                        "<div class='col-md-12' style='background-color: #3f51b5 ;font-weight: bold;color:white;'>"+
                            "<p style='font-size:20px;font-weight: bold;color:white; text-align:center;'>"+subjects_aiims[i]+" Analysis</p>"+
                        "</div>"+
                        
                        "<div class='col-md-5' style='margin-top:5px'>"+
                            "<table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 style='empty-cells: hide;' >"+
                                "<tr class='headerStyle' style='font-weight: bold;color:white;' >"+
                                    "<td colspan='2'><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>Students Performance in "+subjects_aiims[i]+"</center></p></td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Total No. Of Questions</th>"+
                                    "<td>"+num_qs_aiims[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Correct</th>"+
                                    "<td>"+corr_aiims[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Wrong</th>"+
                                    "<td>"+wrong_aiims[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Unattempted</th>"+
                                    "<td>"+unattempt_aiims[i]+"</td>"+
                                "</tr>"+
                            "</table>"+
                        "</div>"+

                        "<div class='col-md-6'>"+                    

                            "<div id='container' class='chart_div' align='center'>"+
                                "<canvas id="+canvas_id+" ></canvas>"+
                            "</div>"+
                            
                        "</div>"+
                    "</div>"+
                "</div>"+
                "<hr/>";
                count=count+1;

                var canvas_id='canvas'+count;
                var b="<div class='row'>"+
                    "<div class='col-md-12'>"+
                        "<div class='col-md-5' style='margin-top:5px'>"+
                            "<table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 style='empty-cells: hide;' >"+
                                "<tr class='headerStyle' style='font-weight: bold;color:white;' >"+
                                    "<td colspan='2' ><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>"+subjects_aiims[i]+" Analysis in Percentage</center></p></td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Correct</th>"+
                                    "<td>"+corr_percent_aiims[i]+"%</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Wrong</th>"+
                                    "<td>"+wrong_percent_aiims[i]+"%</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Unattempted</th>"+
                                    "<td>"+unattempt_percent_aiims[i]+"%</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Accuracy In Solving</th>"+
                                    "<td>"+corr_accuracy_aiims[i]+"%</td>"+
                                "</tr>"+
                            "</table>"+
                        "</div>"+

                        "<div class='col-md-6'> "+                   
                            
                            "<div id='container' class='chart_div' align='center'>"+
                                "<canvas id="+canvas_id+" ></canvas>"+
                            "</div>"+
                            
                        "</div>"+
                    "</div>"+
                "</div>"+
                "<hr/>";
                count=count+1;

                var canvas_id='canvas'+count;
                var c="<div class='row'>"+
                    "<div class='col-md-12'>"+
                        "<div class='col-md-5' style='margin-top:5px'>"+
                            "<table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 style='empty-cells: hide;' >"+
                                "<tr class='headerStyle' style='font-weight: bold;color:white;' >"+
                                    "<td colspan='2' ><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>Marks Analysis - "+subjects_aiims[i]+"</center></p></td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Total Marks</th>"+
                                    "<td>"+total_num_marks_aiims[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Positive Marks</th>"+
                                    "<td>"+marks_correct_aiims[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Negative Marks</th>"+
                                    "<td>"+negative_aiims[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Marks Obtained</th>"+
                                    "<td>"+obtain_aiims[i]+"</td>"+
                                "</tr>"+
                            "</table>"+
                        "</div>"+

                        "<div class='col-md-6'> "+                   
                            
                            "<div id='container' class='chart_div' align='center'>"+
                                "<canvas id="+canvas_id+" ></canvas>"+
                            "</div>"+
                            
                        "</div>"+
                    "</div>"+
                "</div>"+
                "<hr/>";
                count=count+1;

        var chart= document.getElementById("chart");
        chart.innerHTML+=a;
        chart.innerHTML+=b;
        chart.innerHTML+=c;
    }
    for(j=0;j<11;j++){                 //for header chart compare
        if(num_qs_aiims[j]==0){
            continue;
        }
        var canvas_id='canvas_comp'+j;
        var d="<div class='col-md-6' >"+
           "<div id='container' class='chart_div' align='center'>"+
                "<canvas id="+canvas_id+" ></canvas>"+
            "</div><hr/>"+
        "</div>";

        var chart_comp= document.getElementById("chart_compare");
        chart_comp.innerHTML+=d;
    }
        //for total chart compare
    var e="<div class='col-md-6' style='margin-top:5px;'>"+
        "<div id='container' class='chart_div' align='center'>"+
            "<canvas id='canvas_total' ></canvas>"+
        "</div><hr/>"+
    "</div>";
    var chart_comp= document.getElementById("chart_compare");
    chart_comp.innerHTML+=e;
}

else{
for(i=0;i<11;i++){                    //for subjectwise chart compare
    if(num_qs[i]==0){
            count=count+3;
            continue;
        }
        var canvas_id='canvas'+count;
                var a="<div class='row'>"+
                    "<div class='col-md-12'>"+
                        "<div class='col-md-12' style='background-color: #3f51b5 ;font-weight: bold;color:white;'>"+
                            "<p style='font-size:20px;font-weight: bold;color:white; text-align:center;'>"+subjects[i]+" Analysis</p>"+
                        "</div>"+
                        
                        "<div class='col-md-5' style='margin-top:5px'>"+
                            "<table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 style='empty-cells: hide;' >"+
                                "<tr class='headerStyle' style='font-weight: bold;color:white;' >"+
                                    "<td colspan='2'><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>Students Performance in "+subjects[i]+"</center></p></td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Total No. Of Questions</th>"+
                                    "<td>"+num_qs[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Correct</th>"+
                                    "<td>"+corr[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Wrong</th>"+
                                    "<td>"+wrong[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Unattempted</th>"+
                                    "<td>"+unattempt[i]+"</td>"+
                                "</tr>"+
                            "</table>"+
                        "</div>"+

                        "<div class='col-md-6'>"+                    

                            "<div id='container' class='chart_div' align='center'>"+
                                "<canvas id="+canvas_id+" ></canvas>"+
                            "</div>"+
                            
                        "</div>"+
                    "</div>"+
                "</div>"+
                "<hr/>";
                count=count+1;

                var canvas_id='canvas'+count;
                var b="<div class='row'>"+
                    "<div class='col-md-12'>"+
                        "<div class='col-md-5' style='margin-top:5px'>"+
                            "<table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 style='empty-cells: hide;' >"+
                                "<tr class='headerStyle' style='font-weight: bold;color:white;' >"+
                                    "<td colspan='2' ><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>"+subjects[i]+" Analysis in Percentage</center></p></td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Correct</th>"+
                                    "<td>"+corr_percent[i]+"%</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Wrong</th>"+
                                    "<td>"+wrong_percent[i]+"%</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Unattempted</th>"+
                                    "<td>"+unattempt_percent[i]+"%</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Accuracy In Solving</th>"+
                                    "<td>"+corr_accuracy[i]+"%</td>"+
                                "</tr>"+
                            "</table>"+
                        "</div>"+

                        "<div class='col-md-6'> "+                   
                            
                            "<div id='container' class='chart_div' align='center'>"+
                                "<canvas id="+canvas_id+" ></canvas>"+
                            "</div>"+
                            
                        "</div>"+
                    "</div>"+
                "</div>"+
                "<hr/>";
                count=count+1;

                var canvas_id='canvas'+count;
                var c="<div class='row'>"+
                    "<div class='col-md-12'>"+
                        "<div class='col-md-5' style='margin-top:5px'>"+
                            "<table class='table table-bordered table-responsive table-responsive table-condensed myTable' border=1  cellspacing=0 style='empty-cells: hide;' >"+
                                "<tr class='headerStyle' style='font-weight: bold;color:white;' >"+
                                    "<td colspan='2' ><p style='font-size:20px;font-weight: bold;color:white; text-align:center;'><center>Marks Analysis - "+subjects[i]+"</center></p></td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Total Marks</th>"+
                                    "<td>"+total_num_marks[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Positive Marks</th>"+
                                    "<td>"+marks_correct[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Negative Marks</th>"+
                                    "<td>"+negative[i]+"</td>"+
                                "</tr>"+
                                "<tr>"+
                                    "<th>Marks Obtained</th>"+
                                    "<td>"+obtain[i]+"</td>"+
                                "</tr>"+
                            "</table>"+
                        "</div>"+

                        "<div class='col-md-6'> "+                   
                            
                            "<div id='container' class='chart_div' align='center'>"+
                                "<canvas id="+canvas_id+" ></canvas>"+
                            "</div>"+
                            
                        "</div>"+
                    "</div>"+
                "</div>"+
                "<hr/>";
                count=count+1;

        var chart= document.getElementById("chart");
        chart.innerHTML+=a;
        chart.innerHTML+=b;
        chart.innerHTML+=c;
    }
    for(j=0;j<11;j++){                 //for header chart compare
        if(num_qs[j]==0){
            continue;
        }
        var canvas_id='canvas_comp'+j;
        var d="<div class='col-md-6' >"+
           "<div id='container' class='chart_div' align='center'>"+
                "<canvas id="+canvas_id+" ></canvas>"+
            "</div><hr/>"+
        "</div>";

        var chart_comp= document.getElementById("chart_compare");
        chart_comp.innerHTML+=d;
    }
        //for total chart compare
    var e="<div class='col-md-6' style='margin-top:5px;'>"+
        "<div id='container' class='chart_div' align='center'>"+
            "<canvas id='canvas_total' ></canvas>"+
        "</div><hr/>"+
    "</div>";
    var chart_comp= document.getElementById("chart_compare");
    chart_comp.innerHTML+=e;
}
<{{!}}/script>
            </div>
        
<div class='container'>
    <div class='row'>
        <div class='col-md-12'>
            <center><p class="pull-center"> Copyright &#169; <a href="https://raoiit.com/" target="_blank">Rao IIT Academy</a> 2017</p></center>
        </div>
    </div>
</div>

<script>
var i,j;
var count=4;

var subjects = ["Physics", "Chemistry", "Mathematics", "Biology", "Zoology", "Mental Ability", "English", "Logical Reasoning", "Social Science", "Computer Science", "General Knowledge", "Science"];
var num_qs = ["{{ nphy }}", "{{ nchem }}", "{{ nmath }}", "{{ nbio }}", "{{ nzoo }}", "{{ nmat }}", "{{ neng }}", "{{ nlr }}", "{{ nsoc }}", "{{ ncs }}", "{{ ngk }}", "{{ nsci }}"];
var total_num_marks = ["{{ ntotphy }}", "{{ ntotchem }}", "{{ ntotmath }}", "{{ ntotbio }}", "{{ ntotzoo }}", "{{ ntotmat }}", "{{ ntoteng }}", "{{ ntotlr }}", "{{ ntotsoc }}", "{{ ntotcs }}", "{{ ntotgk }}", "{{ ntotsci }}"];
var corr = ["{{ pcorr }}", "{{ ccorr }}", "{{ mcorr }}", "{{ bcorr }}", "{{ zcorr }}", "{{ macorr }}", "{{ ecorr }}", "{{ lrcorr }}", "{{ sscorr }}", "{{ cscorr }}", "{{ gkcorr }}", "{{ sccorr }}"];
var wrong = ["{{ pwrong }}", "{{ cwrong }}", "{{ mwrong }}", "{{ bwrong }}", "{{ zwrong }}", "{{ mawrong }}", "{{ ewrong }}", "{{ lrwrong }}", "{{ sswrong }}", "{{ cswrong }}", "{{ gkwrong }}", "{{ scwrong }}"];
var obtain = ["{{ pobt }}", "{{ cobt }}", "{{ mobt }}", "{{ bobt }}", "{{ zobt }}", "{{ maobt }}", "{{ eobt }}", "{{ lrobt }}", "{{ ssobt }}", "{{ csobt }}", "{{ gkobt }}", "{{ scobt }}"];
var max_obtain = ["{{ max_spr_pobt }}", "{{ max_spr_cobt }}", "{{ max_spr_mobt }}", "{{ max_spr_bobt }}", "{{ max_spr_zobt }}", "{{ max_spr_maobt }}", "{{ max_spr_eobt }}", "{{ max_spr_lrobt }}", "{{ max_spr_ssobt }}", "{{ max_spr_csobt }}", "{{ max_spr_gkobt }}", "{{ max_spr_scobt }}"];
var unattempt = ["{{ punattempt }}", "{{ cunattempt }}", "{{ munattempt }}", "{{ bunattempt }}", "{{ zunattempt }}", "{{ maunattempt }}", "{{ eunattempt }}", "{{ lrunattempt }}", "{{ ssunattempt }}", "{{ csunattempt }}", "{{ gkunattempt }}", "{{ scunattempt }}"];
var negative = ["{{ pnegmarks }}", "{{ cnegmarks }}", "{{ mnegmarks }}", "{{ bnegmarks }}", "{{ znegmarks }}", "{{ manegmarks }}", "{{ enegmarks }}", "{{ lrnegmarks }}", "{{ ssnegmarks }}", "{{ csnegmarks }}", "{{ gknegmarks }}", "{{ scnegmarks }}"];
var corr_percent = ["{{ pcorr_percent }}", "{{ ccorr_percent }}", "{{ mcorr_percent }}", "{{ bcorr_percent }}", "{{ zcorr_percent }}", "{{ macorr_percent }}", "{{ ecorr_percent }}", "{{ lrcorr_percent }}", "{{ sscorr_percent }}", "{{ cscorr_percent }}", "{{ gkcorr_percent }}", "{{ sccorr_percent }}"];
var wrong_percent = ["{{ pwrong_percent }}", "{{ cwrong_percent }}", "{{ mwrong_percent }}", "{{ bwrong_percent }}", "{{ zwrong_percent }}", "{{ mawrong_percent }}", "{{ wrong_percent }}", "{{ lrwrong_percent }}", "{{ sswrong_percent }}", "{{ cswrong_percent }}", "{{ gkwrong_percent }}", "{{ scwrong_percent }}"];
var unattempt_percent = ["{{ punattempt_percent }}", "{{ cunattempt_percent }}", "{{ munattempt_percent }}", "{{ bunattempt_percent }}", "{{ zunattempt_percent }}", "{{ maunattempt_percent }}", "{{ eunattempt_percent }}", "{{ lrunattempt_percent }}", "{{ ssunattempt_percent }}", "{{ csunattempt_percent }}", "{{ gkunattempt_percent }}", "{{ scunattempt_percent }}"];
var corr_accuracy = ["{{ pcorr_accuracy }}", "{{ ccorr_accuracy }}", "{{ mcorr_accuracy }}", "{{ bcorr_accuracy }}", "{{ zcorr_accuracy }}", "{{ macorr_accuracy }}", "{{ ecorr_accuracy }}", "{{ lrcorr_accuracy }}", "{{ sscorr_accuracy }}", "{{ cscorr_accuracy }}", "{{ gkcorr_accuracy }}", "{{ sccorr_accuracy }}"];
var marks_correct = ["{{ pmarks_correct }}", "{{ cmarks_correct }}", "{{ mmarks_correct }}", "{{ bmarks_correct }}", "{{ zmarks_correct }}", "{{ mamarks_correct }}", "{{ emarks_correct }}", "{{ lrmarks_correct }}", "{{ ssmarks_correct }}", "{{ csmarks_correct }}", "{{ gkmarks_correct }}", "{{ scmarks_correct }}"];
var sub = ["phy", "chem", "math", "bio", "zoo", "mat", "eng", "lr", "soc", "cs", "gk", "sci"];



var subjects_aiims = ["Physics", "Chemistry", "", "Biology", "", "", "", "", "", "", "", ""];
var num_qs_aiims = ["60", "60", "0", "80", "0", "0", "0", "0", "0", "0", "0", "0"];
var total_num_marks_aiims = ["60", "60", "0", "80", "0", "0", "0", "0", "0", "0", "0", "0"];
var corr_aiims = ["{{ pcorr }}", "{{ ccorr }}", "0", "{{ bcorr }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var wrong_aiims = ["{{ pwrong }}", "{{ cwrong }}", "0", "{{ bwrong }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var obtain_aiims = ["{{ pobt }}", "{{ cobt }}", "0", "{{ bobt }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var max_obtain_aiims = ["{{ max_spr_pobt }}", "{{ max_spr_cobt }}", "0", "{{ max_spr_bobt }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var unattempt_aiims = ["{{ punattempt }}", "{{ cunattempt }}", "0", "{{ bunattempt }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var negative_aiims = ["{{ pnegmarks }}", "{{ cnegmarks }}", "0", "{{ bnegmarks }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var corr_percent_aiims = ["{{ pcorr_percent }}", "{{ ccorr_percent }}", "0", "{{ bcorr_percent }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var wrong_percent_aiims = ["{{ pwrong_percent }}", "{{ cwrong_percent }}", "0", "{{ bwrong_percent }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var unattempt_percent_aiims = ["{{ punattempt_percent }}", "{{ cunattempt_percent }}", "0", "{{ bunattempt_percent }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var corr_accuracy_aiims = ["{{ pcorr_accuracy }}", "{{ ccorr_accuracy }}", "0", "{{ bcorr_accuracy }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var marks_correct_aiims = ["{{ pmarks_correct }}", "{{ cmarks_correct }}", "0", "{{ bmarks_correct }}", "0", "0", "0", "0", "0", "0", "0", "0"];
var sub_aiims = ["phy", "chem", "", "bio", "", "", "", "", "", "", "", ""];

var test_name = "{{ name }}";
var test_paper_name = test_name.toLowerCase();
var test_aiims = test_paper_name.includes("aiims");
if(test_aiims==true){
    for(i=0;i<11;i++){
    
        if(num_qs_aiims[i]==0){
            count=count+3;
            continue;
        }
    
    var canvas="canvas"+count;
    var barChartData="barChartData"+count; 

    var color = Chart.helpers.color;
    barChartData = {
        labels: ["Student's Performance in"+subjects_aiims[i]],
        datasets: [{
            label: 'Total Questions',
            backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
            borderColor: window.chartColors.grey,
            borderWidth: 3,
            data: [
                 num_qs_aiims[i] 
                
            ]
        }, {
            label: 'Correct',
            backgroundColor: color(window.chartColors.blue).alpha(1.5).rgbString(),
            borderColor: window.chartColors.blue ,
            borderWidth: 3,
            data: [
                corr_aiims[i]
                
            ]
        },{
            label: 'Wrong',
            backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
            borderColor: window.chartColors.red,
            borderWidth: 3,
            data: [
                wrong_aiims[i]
                
            ]
        },{
            label: 'Unattempted',
            backgroundColor: color(window.chartColors.yellow).alpha(1.5).rgbString(),
            borderColor: window.chartColors.yellow,
            borderWidth: 3,
            data: [
                unattempt_aiims[i]
                
            ]
        }]
    };
    var ctx = document.getElementById(canvas).getContext("2d");
    window.myBar = new Chart(ctx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: 'Students Performance in '+subjects_aiims[i]
            },
            scales: {
                yAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }],
                xAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }]
            }
        }
    });

    count=count+1;
    
    var canvas="canvas"+count;
    var barChartData="barChartData"+count;

    var color = Chart.helpers.color;
    barChartData = {
        labels: [subjects_aiims[i]+" Analysis"],
        datasets: [{
            label: 'Correct %',
            backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
            borderColor: window.chartColors.grey,
            borderWidth: 3,
            data: [
                corr_percent_aiims[i]
                
            ]
        }, {
            label: 'Wrong %',
            backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
            borderColor: window.chartColors.red,
            borderWidth: 3,
            data: [
                wrong_percent_aiims[i]
                
            ]
        },{
            label: 'Unattempted %',
            backgroundColor: color(window.chartColors.yellow).alpha(1.5).rgbString(),
            borderColor: window.chartColors.yellow,
            borderWidth: 3,
            data: [
                unattempt_percent_aiims[i]
                
            ]
        },{
            label: 'Accuracy In Solving',
            backgroundColor: color(window.chartColors.blue).alpha(1.5).rgbString(),
            borderColor: window.chartColors.blue,
            borderWidth: 3,
            data: [
                corr_accuracy_aiims[i]
                
            ]
        }]

    };
    var ctx = document.getElementById(canvas).getContext("2d");
    window.myBar = new Chart(ctx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: subjects_aiims[i]+' Analysis'
            },
            scales: {
                yAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }],
                xAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }]
            }
        }
    }); 

    count=count+1;

    var canvas="canvas"+count;
    var barChartData="barChartData"+count;

    var color = Chart.helpers.color;
    barChartData = {
        labels: ["Marks Analysis - "+subjects_aiims[i]],
        datasets: [{
            label: 'Total Marks',
            backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
            borderColor: window.chartColors.grey,
            borderWidth: 3,
            data: [
                total_num_marks_aiims[i]
                
            ]
        }, {
            label: 'Positive Marks',
            backgroundColor: color(window.chartColors.blue).alpha(1.5).rgbString(),
            borderColor: window.chartColors.blue,
            borderWidth: 3,
            data: [
                marks_correct_aiims[i]
                
            ]
        },{
            label: 'Negative Marks',
            backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
            borderColor: window.chartColors.red,
            borderWidth: 3,
            data: [
                negative_aiims[i]
                
            ]
        },{
            label: 'Marks Obtained',
            backgroundColor: color(window.chartColors.orange).alpha(1.5).rgbString(),
            borderColor: window.chartColors.orange,
            borderWidth: 3,
            data: [
                obtain_aiims[i]
                
            ]
        }]
    };

    var ctx = document.getElementById(canvas).getContext("2d");
    window.myBar = new Chart(ctx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: 'Performance in '+subjects_aiims[i]
            }
        }
    });
count=count+1;

for(j=0;j<11;j++){
    var subjects = ["Physics", "Chemistry", "Maths", "Biology", "Zoology", "Mental Ability", "English", "Logical Reasoning", "Social Science", "Computer Science", "General Knowledge", "Science"];
    var sub = ["phy", "chem", "math", "bio", "zoo", "mat", "eng", "lr", "soc", "cs", "gk", "sci"];
    var max = ["{{ #max_spr }}", "{{ /max_spr }}"];
        if(num_qs_aiims[j]==0){
                    continue;

        }    
    var canvas_id='canvas_comp'+j;
    var barChartData="barChartData"+sub[j];

    var color = Chart.helpers.color;
    barChartData = {
    labels: [subjects[j]+" Marks Compare with Highest"],
    datasets: [{
        label: 'SELF',
        backgroundColor: color(window.chartColors.green).alpha(1.5).rgbString(),
        borderColor: window.chartColors.green,
        borderWidth: 3,
        data: [
            obtain[j]
            
        ]
    },{
        label: 'Highest',
        backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
        borderColor: window.chartColors.red,
        borderWidth: 3,
        data: [
            max_obtain[j]
            
        ]
    }]

    };
    
    var ctx="ctx_"+sub[j];
    ctx = document.getElementById(canvas_id).getContext("2d");
    window.myBar = new Chart(ctx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: subjects[j]+' Marks Comparision'
            },
            scales: {
                yAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }],
                xAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }]
            }
        }
    });

}

//Chart for total marks 
var color = Chart.helpers.color;
var barChartData_total = {
labels: ["Total Marks Compare with Highest"],
datasets: [{
    label: 'SELF',
    backgroundColor: color(window.chartColors.green).alpha(1.5).rgbString(),
    borderColor: window.chartColors.green,
    borderWidth: 3,
    data: [
        {{ marksobt }}
        
    ]
},{
    label: 'Highest',
    backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
    borderColor: window.chartColors.red,
    borderWidth: 3,
    data: [
        {{#max_spr}} {{ marksobt }} {{/max_spr}}
        
    ]
}]

};

// For Total Comparision 
// graph-total_compare
var ctx_total = document.getElementById("canvas_total").getContext("2d");
window.myBar = new Chart(ctx_total, {
    type: 'bar',
    data: barChartData_total,
    options: {
        responsive: true,
        legend: {
            position: 'top',
        },
        title: {
            display: true,
            text: 'Total Marks Comparision'
        },
        scales: {
            yAxes: [{
                ticks: {
                    //beginAtZero:true
                    min:20
                }
            }],
            xAxes: [{
                ticks: {
                    //beginAtZero:true
                    min:0
                }
            }]
        }
    }
});
}
}

else{
    for(i=0;i<11;i++){
    
        if(num_qs[i]==0){
            count=count+3;
            continue;
        }
    
    var canvas="canvas"+count;
    var barChartData="barChartData"+count; 

    var color = Chart.helpers.color;
    barChartData = {
        labels: ["Student's Performance in"+subjects[i]],
        datasets: [{
            label: 'Total Questions',
            backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
            borderColor: window.chartColors.grey,
            borderWidth: 3,
            data: [
                 num_qs[i] 
                
            ]
        }, {
            label: 'Correct',
            backgroundColor: color(window.chartColors.blue).alpha(1.5).rgbString(),
            borderColor: window.chartColors.blue ,
            borderWidth: 3,
            data: [
                corr[i]
                
            ]
        },{
            label: 'Wrong',
            backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
            borderColor: window.chartColors.red,
            borderWidth: 3,
            data: [
                wrong[i]
                
            ]
        },{
            label: 'Unattempted',
            backgroundColor: color(window.chartColors.yellow).alpha(1.5).rgbString(),
            borderColor: window.chartColors.yellow,
            borderWidth: 3,
            data: [
                unattempt[i]
                
            ]
        }]
    };
    var ctx = document.getElementById(canvas).getContext("2d");
    window.myBar = new Chart(ctx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: 'Students Performance in '+subjects[i]
            },
            scales: {
                yAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }],
                xAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }]
            }
        }
    });

    count=count+1;
    
    var canvas="canvas"+count;
    var barChartData="barChartData"+count;

    var color = Chart.helpers.color;
    barChartData = {
        labels: [subjects[i]+" Analysis"],
        datasets: [{
            label: 'Correct %',
            backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
            borderColor: window.chartColors.grey,
            borderWidth: 3,
            data: [
                corr_percent[i]
                
            ]
        }, {
            label: 'Wrong %',
            backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
            borderColor: window.chartColors.red,
            borderWidth: 3,
            data: [
                wrong_percent[i]
                
            ]
        },{
            label: 'Unattempted %',
            backgroundColor: color(window.chartColors.yellow).alpha(1.5).rgbString(),
            borderColor: window.chartColors.yellow,
            borderWidth: 3,
            data: [
                unattempt_percent[i]
                
            ]
        },{
            label: 'Accuracy In Solving',
            backgroundColor: color(window.chartColors.blue).alpha(1.5).rgbString(),
            borderColor: window.chartColors.blue,
            borderWidth: 3,
            data: [
                corr_accuracy[i]
                
            ]
        }]

    };
    var ctx = document.getElementById(canvas).getContext("2d");
    window.myBar = new Chart(ctx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: subjects[i]+' Analysis'
            },
            scales: {
                yAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }],
                xAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }]
            }
        }
    }); 

    count=count+1;

    var canvas="canvas"+count;
    var barChartData="barChartData"+count;

    var color = Chart.helpers.color;
    barChartData = {
        labels: ["Marks Analysis - "+subjects[i]],
        datasets: [{
            label: 'Total Marks',
            backgroundColor: color(window.chartColors.grey).alpha(1.5).rgbString(),
            borderColor: window.chartColors.grey,
            borderWidth: 3,
            data: [
                total_num_marks[i]
                
            ]
        }, {
            label: 'Positive Marks',
            backgroundColor: color(window.chartColors.blue).alpha(1.5).rgbString(),
            borderColor: window.chartColors.blue,
            borderWidth: 3,
            data: [
                marks_correct[i]
                
            ]
        },{
            label: 'Negative Marks',
            backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
            borderColor: window.chartColors.red,
            borderWidth: 3,
            data: [
                negative[i]
                
            ]
        },{
            label: 'Marks Obtained',
            backgroundColor: color(window.chartColors.orange).alpha(1.5).rgbString(),
            borderColor: window.chartColors.orange,
            borderWidth: 3,
            data: [
                obtain[i]
                
            ]
        }]
    };

    var ctx = document.getElementById(canvas).getContext("2d");
    window.myBar = new Chart(ctx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: 'Performance in '+subjects[i]
            }
        }
    });
count=count+1;

for(j=0;j<11;j++){
    var subjects = ["Physics", "Chemistry", "Maths", "Biology", "Zoology", "Mental Ability", "English", "Logical Reasoning", "Social Science", "Computer Science", "General Knowledge", "Science"];
    var sub = ["phy", "chem", "math", "bio", "zoo", "mat", "eng", "lr", "soc", "cs", "gk", "sci"];
    var max = ["{{ #max_spr }}", "{{ /max_spr }}"];
        if(num_qs[j]==0){
                    continue;
        }    
    var canvas_id='canvas_comp'+j;
    var barChartData="barChartData"+sub[j];

    var color = Chart.helpers.color;
    barChartData = {
    labels: [subjects[j]+" Marks Compare with Highest"],
    datasets: [{
        label: 'SELF',
        backgroundColor: color(window.chartColors.green).alpha(1.5).rgbString(),
        borderColor: window.chartColors.green,
        borderWidth: 3,
        data: [
            obtain[j]
            
        ]
    },{
        label: 'Highest',
        backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
        borderColor: window.chartColors.red,
        borderWidth: 3,
        data: [
            max_obtain[j]
            
        ]
    }]

    };
    
    var ctx="ctx_"+sub[j];
    ctx = document.getElementById(canvas_id).getContext("2d");
    window.myBar = new Chart(ctx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            legend: {
                position: 'top',
            },
            title: {
                display: true,
                text: subjects[j]+' Marks Comparision'
            },
            scales: {
                yAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }],
                xAxes: [{
                    ticks: {
                        //beginAtZero:true
                        min:0
                    }
                }]
            }
        }
    });

}

//Chart for total marks 
var color = Chart.helpers.color;
var barChartData_total = {
labels: ["Total Marks Compare with Highest"],
datasets: [{
    label: 'SELF',
    backgroundColor: color(window.chartColors.green).alpha(1.5).rgbString(),
    borderColor: window.chartColors.green,
    borderWidth: 3,
    data: [
        {{ marksobt }}
        
    ]
},{
    label: 'Highest',
    backgroundColor: color(window.chartColors.red).alpha(1.5).rgbString(),
    borderColor: window.chartColors.red,
    borderWidth: 3,
    data: [
        {{#max_spr}} {{ marksobt }} {{/max_spr}}
        
    ]
}]

};

// For Total Comparision 
// graph-total_compare
var ctx_total = document.getElementById("canvas_total").getContext("2d");
window.myBar = new Chart(ctx_total, {
    type: 'bar',
    data: barChartData_total,
    options: {
        responsive: true,
        legend: {
            position: 'top',
        },
        title: {
            display: true,
            text: 'Total Marks Comparision'
        },
        scales: {
            yAxes: [{
                ticks: {
                    //beginAtZero:true
                    min:20
                }
            }],
            xAxes: [{
                ticks: {
                    //beginAtZero:true
                    min:0
                }
            }]
        }
    }
});
}
}
{{/spr}}    
{{/papers}}
    </script>
</script>

<script src="template.js"></script>

</body>
</html>
